<!-- inicio.component.html -->
<form (ngSubmit)="onSearch()" class="container mt-4">
    <div class="row mb-3">
        <div class="col-12 col-md-6">
            <label for="searchType" class="form-label">Buscar por:</label>
            <select id="searchType" [(ngModel)]="searchType" name="searchType" class="form-select">
                <option value="title">Título</option>
                <option value="artist">Artista</option>
                <option value="category">Categoría</option>
            </select>
        </div>
        <div class="col-12 col-md-6">
            <label for="searchQuery" class="form-label">Término de búsqueda:</label>
            <input id="searchQuery" type="text" [(ngModel)]="searchQuery" name="searchQuery"
                placeholder="Ingresa tu búsqueda" class="form-control" />
        </div>
    </div>

    <div class="text-center">
        <button type="submit" class="btn btn-primary">Buscar</button>
    </div>
</form>

<!-- Mostrar resultados -->
<div *ngIf="obras && obras.length > 0" class="container mt-4">
    <h2 class="mb-4">Resultados de la búsqueda:</h2>
    <div class="row">
        <div class="col-12 col-md-4" *ngFor="let obra of obras">
            <div class="card mb-3">
                <img *ngIf="obra.imagen_URL" [src]="obra.imagen_URL" class="card-img-top" alt="{{ obra.title }}">
                <!-- <img src="https://www.artic.edu/iiif/2/98d02161-dba8-6150-ba19-6bc1c1c6f897/full/843,/0/default.jpg" class="card-img-top" alt="Imagen de prueba"> -->
                <div class="card-body">
                    <h5 class="card-title">{{ obra.title }}</h5>
                    <!-- <p class="card-text"><strong>Enlace a la obra: </strong> <a [href]="obra.api_link" -->
                    class="text-decoration-none" target="_blank">Ver detalles</a></p>
                    <p class="card-text"><strong>Descripción:</strong> {{ obra.thumbnail?.alt_text || 'No disponible' }}
                    </p>
                </div>
                <!-- form.component.html -->
                <form [routerLink]="['/detalle', id]" method="get">
                    <button type="submit">Ver detalle</button>
                </form>

            </div>
        </div>
    </div>
</div>

<!-- Si no hay resultados -->
<div *ngIf="obras && obras.length === 0" class="container mt-4">
    <h4>No se encontraron resultados.</h4>
</div>

<!-- Paginación -->
<div *ngIf="pagination" class="container mt-4">
    <nav aria-label="Page navigation">
        <ul class="pagination">
            <li class="page-item" [class.disabled]="pagination.current_page === 1">
                <a class="page-link" href="#" (click)="onPageChange(pagination.current_page - 1)">Anterior</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="#" (click)="onPageChange(pagination.current_page + 1)">Siguiente</a>
            </li>
        </ul>
    </nav>
</div>